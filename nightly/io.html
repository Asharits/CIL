<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Read/ write AcquisitionData and ImageData &mdash; CIL v21.2.0-26-gc72fa7a0 documentation</title><link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/language_data.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Optimisation framework" href="optimisation.html" />
    <link rel="prev" title="Framework" href="framework.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="index.html" class="icon icon-home"> CIL
          </a>
              <div class="version">
                v21.2.0-26-gc72fa7a0
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="framework.html">Framework</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Read/ write AcquisitionData and ImageData</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#nexus">NeXuS</a></li>
<li class="toctree-l2"><a class="reference internal" href="#nikon">Nikon</a></li>
<li class="toctree-l2"><a class="reference internal" href="#zeiss">ZEISS</a></li>
<li class="toctree-l2"><a class="reference internal" href="#tiff-reader-writer">TIFF Reader/Writer</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="optimisation.html">Optimisation framework</a></li>
<li class="toctree-l1"><a class="reference internal" href="optimisation.html#block-framework">Block Framework</a></li>
<li class="toctree-l1"><a class="reference internal" href="developer_guide.html">Developer’s guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="processors.html">Processors</a></li>
<li class="toctree-l1"><a class="reference internal" href="utilities.html">Utilities</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">CIL</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
      <li>Read/ write AcquisitionData and ImageData</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/io.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="section" id="read-write-acquisitiondata-and-imagedata">
<h1>Read/ write AcquisitionData and ImageData<a class="headerlink" href="#read-write-acquisitiondata-and-imagedata" title="Permalink to this headline">¶</a></h1>
<div class="section" id="nexus">
<h2>NeXuS<a class="headerlink" href="#nexus" title="Permalink to this headline">¶</a></h2>
<p>The CCPi Framework provides classes to read and write <code class="code docutils literal notranslate"><span class="pre">AcquisitionData</span></code> and <code class="code docutils literal notranslate"><span class="pre">ImageData</span></code>
as NeXuS files.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># imports</span>
<span class="kn">from</span> <span class="nn">cil.io</span> <span class="kn">import</span> <span class="n">NEXUSDataWriter</span><span class="p">,</span> <span class="n">NEXUSDataReader</span>

<span class="c1"># initialise NEXUS Writer</span>
<span class="n">writer</span> <span class="o">=</span> <span class="n">NEXUSDataWriter</span><span class="p">()</span>
<span class="n">writer</span><span class="o">.</span><span class="n">set_up</span><span class="p">(</span><span class="n">file_name</span><span class="o">=</span><span class="s1">&#39;tmp_nexus.nxs&#39;</span><span class="p">,</span>
            <span class="n">data_container</span><span class="o">=</span><span class="n">my_data</span><span class="p">)</span>
<span class="c1"># write data</span>
<span class="n">writer</span><span class="o">.</span><span class="n">write_file</span><span class="p">()</span>

<span class="c1"># read data</span>
<span class="c1"># initialize NEXUS reader</span>
<span class="n">reader</span> <span class="o">=</span> <span class="n">NEXUSDataReader</span><span class="p">()</span>
<span class="n">reader</span><span class="o">.</span><span class="n">set_up</span><span class="p">(</span><span class="n">nexus_file</span><span class="o">=</span><span class="s1">&#39;tmp_nexus.nxs&#39;</span><span class="p">)</span>
<span class="c1"># load data</span>
<span class="n">ad1</span> <span class="o">=</span> <span class="n">reader</span><span class="o">.</span><span class="n">load_data</span><span class="p">()</span>
<span class="c1"># get AcquisitionGeometry</span>
<span class="n">ag1</span> <span class="o">=</span> <span class="n">reader</span><span class="o">.</span><span class="n">get_geometry</span><span class="p">()</span>
</pre></div>
</div>
<dl class="class">
<dt id="cil.io.NEXUSDataReader">
<em class="property">class </em><code class="sig-prename descclassname">cil.io.</code><code class="sig-name descname">NEXUSDataReader</code><span class="sig-paren">(</span><em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cil/io/NEXUSDataReader.html#NEXUSDataReader"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cil.io.NEXUSDataReader" title="Permalink to this definition">¶</a></dt>
<dd><dl class="method">
<dt id="cil.io.NEXUSDataReader.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cil/io/NEXUSDataReader.html#NEXUSDataReader.__init__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cil.io.NEXUSDataReader.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Constructor</p>
<p>Input:</p>
<blockquote>
<div><p>file_name      full path to NEXUS file</p>
</div></blockquote>
</dd></dl>

<dl class="attribute">
<dt id="cil.io.NEXUSDataReader.__weakref__">
<code class="sig-name descname">__weakref__</code><a class="headerlink" href="#cil.io.NEXUSDataReader.__weakref__" title="Permalink to this definition">¶</a></dt>
<dd><p>list of weak references to the object (if defined)</p>
</dd></dl>

<dl class="method">
<dt id="cil.io.NEXUSDataReader.get_data_offset">
<code class="sig-name descname">get_data_offset</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/cil/io/NEXUSDataReader.html#NEXUSDataReader.get_data_offset"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cil.io.NEXUSDataReader.get_data_offset" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse NEXUS file and returns the offset factor applied to compress the dataset</p>
</dd></dl>

<dl class="method">
<dt id="cil.io.NEXUSDataReader.get_data_scale">
<code class="sig-name descname">get_data_scale</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/cil/io/NEXUSDataReader.html#NEXUSDataReader.get_data_scale"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cil.io.NEXUSDataReader.get_data_scale" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse NEXUS file and returns the scale factor applied to compress the dataset</p>
</dd></dl>

<dl class="method">
<dt id="cil.io.NEXUSDataReader.get_geometry">
<code class="sig-name descname">get_geometry</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/cil/io/NEXUSDataReader.html#NEXUSDataReader.get_geometry"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cil.io.NEXUSDataReader.get_geometry" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse NEXUS file and returns either ImageData or Acquisition Data 
depending on file content</p>
</dd></dl>

<dl class="method">
<dt id="cil.io.NEXUSDataReader.load_data">
<code class="sig-name descname">load_data</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/cil/io/NEXUSDataReader.html#NEXUSDataReader.load_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cil.io.NEXUSDataReader.load_data" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of read</p>
</dd></dl>

<dl class="method">
<dt id="cil.io.NEXUSDataReader.read">
<code class="sig-name descname">read</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/cil/io/NEXUSDataReader.html#NEXUSDataReader.read"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cil.io.NEXUSDataReader.read" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns either an ImageData or Acquisition Data containing the uncompressed data as numpy.float32</p>
</dd></dl>

<dl class="method">
<dt id="cil.io.NEXUSDataReader.read_as_original">
<code class="sig-name descname">read_as_original</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/cil/io/NEXUSDataReader.html#NEXUSDataReader.read_as_original"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cil.io.NEXUSDataReader.read_as_original" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns either an ImageData or AcquisitionData containing the compressed data</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="cil.io.NEXUSDataWriter">
<em class="property">class </em><code class="sig-prename descclassname">cil.io.</code><code class="sig-name descname">NEXUSDataWriter</code><span class="sig-paren">(</span><em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cil/io/NEXUSDataWriter.html#NEXUSDataWriter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cil.io.NEXUSDataWriter" title="Permalink to this definition">¶</a></dt>
<dd><dl class="method">
<dt id="cil.io.NEXUSDataWriter.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cil/io/NEXUSDataWriter.html#NEXUSDataWriter.__init__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cil.io.NEXUSDataWriter.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Constructor</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<a class="reference internal" href="framework.html#cil.framework.AcquisitionData" title="cil.framework.AcquisitionData"><em>AcquisitionData</em></a><em>, </em><a class="reference internal" href="framework.html#cil.framework.ImageData" title="cil.framework.ImageData"><em>ImageData</em></a>) – The dataset to write to file</p></li>
<li><p><strong>file_name</strong> (<em>os.path</em><em> or </em><em>string</em><em>, </em><em>default None</em>) – file name to write</p></li>
<li><p><strong>compression</strong> (<em>int</em><em>, </em><em>default 0</em>) – The lossy compression to apply, default 0 will not compress data. 8 or 16 will compress to 8 and 16 bit dtypes respectively.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="cil.io.NEXUSDataWriter.__weakref__">
<code class="sig-name descname">__weakref__</code><a class="headerlink" href="#cil.io.NEXUSDataWriter.__weakref__" title="Permalink to this definition">¶</a></dt>
<dd><p>list of weak references to the object (if defined)</p>
</dd></dl>

<dl class="method">
<dt id="cil.io.NEXUSDataWriter.set_up">
<code class="sig-name descname">set_up</code><span class="sig-paren">(</span><em class="sig-param">data=None</em>, <em class="sig-param">file_name=None</em>, <em class="sig-param">compression=0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cil/io/NEXUSDataWriter.html#NEXUSDataWriter.set_up"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cil.io.NEXUSDataWriter.set_up" title="Permalink to this definition">¶</a></dt>
<dd><p>set up witer</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<a class="reference internal" href="framework.html#cil.framework.AcquisitionData" title="cil.framework.AcquisitionData"><em>AcquisitionData</em></a><em>, </em><a class="reference internal" href="framework.html#cil.framework.ImageData" title="cil.framework.ImageData"><em>ImageData</em></a>) – The dataset to write to file</p></li>
<li><p><strong>file_name</strong> (<em>os.path</em><em> or </em><em>string</em><em>, </em><em>default None</em>) – file name to write</p></li>
<li><p><strong>compression</strong> (<em>int</em><em>, </em><em>default 0</em>) – The lossy compression to apply, default 0 will not compress data. 8 or 16 will compress to 8 and 16bit dtypes respectively.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="cil.io.NEXUSDataWriter.write">
<code class="sig-name descname">write</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/cil/io/NEXUSDataWriter.html#NEXUSDataWriter.write"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cil.io.NEXUSDataWriter.write" title="Permalink to this definition">¶</a></dt>
<dd><p>write dataset to disk</p>
</dd></dl>

</dd></dl>

<div class="line-block">
<div class="line"><br /></div>
</div>
</div>
<div class="section" id="nikon">
<h2>Nikon<a class="headerlink" href="#nikon" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="cil.io.NikonDataReader">
<em class="property">class </em><code class="sig-prename descclassname">cil.io.</code><code class="sig-name descname">NikonDataReader</code><span class="sig-paren">(</span><em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cil/io/NikonDataReader.html#NikonDataReader"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cil.io.NikonDataReader" title="Permalink to this definition">¶</a></dt>
<dd><dl class="method">
<dt id="cil.io.NikonDataReader.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cil/io/NikonDataReader.html#NikonDataReader.__init__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cil.io.NikonDataReader.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Basic reader for xtekct files</p>
<p>xtek_file: str with full path to .xtexct file</p>
<dl>
<dt>roi: dictionary with roi to load </dt><dd><dl class="simple">
<dt>{‘angle’: (start, end, step), </dt><dd><p>‘horizontal’: (start, end, step), 
‘vertical’: (start, end, step)}</p>
</dd>
</dl>
<p>Files are stacked along axis_0. axis_1 and axis_2 correspond
to row and column dimensions, respectively.
Files are stacked in alphabetic order. 
To skip projections or to change number of projections to load, 
adjust ‘angle’. For instance, ‘angle’: (100, 300)
will skip first 100 projections and will load 200 projections.
‘angle’: -1 is a shortcut to load all elements along axis.
Start and end can be specified as None which is equivalent 
to start = 0 and end = load everything to the end, respectively.
Start and end also can be negative.</p>
</dd>
<dt>normalise: bool, normalises loaded projections by detector </dt><dd><p>white level (I_0). Default value is True</p>
</dd>
<dt>fliplr: bool, default = False, flip projections in the left-right direction</dt><dd><p>(about vertical axis)</p>
</dd>
<dt>mode: str, ‘bin’ (default) or ‘slice’. In bin mode, ‘step’ number</dt><dd><p>of pixels is binned together, values of resulting binned
pixels are calculated as average. 
In ‘slice’ mode ‘step’ defines standard numpy slicing.
Note: in general 
output array size in bin mode != output array size in slice mode</p>
</dd>
</dl>
<p>Acquisition data with corresponding geomrtry, arranged as [‘angle’, horizontal’] 
if a single slice is loaded and [‘vertical, ‘angle’, horizontal’] 
if more than 1 slices are loaded.</p>
</dd></dl>

<dl class="attribute">
<dt id="cil.io.NikonDataReader.__weakref__">
<code class="sig-name descname">__weakref__</code><a class="headerlink" href="#cil.io.NikonDataReader.__weakref__" title="Permalink to this definition">¶</a></dt>
<dd><p>list of weak references to the object (if defined)</p>
</dd></dl>

<dl class="method">
<dt id="cil.io.NikonDataReader.get_geometry">
<code class="sig-name descname">get_geometry</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/cil/io/NikonDataReader.html#NikonDataReader.get_geometry"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cil.io.NikonDataReader.get_geometry" title="Permalink to this definition">¶</a></dt>
<dd><p>Return AcquisitionGeometry object</p>
</dd></dl>

<dl class="method">
<dt id="cil.io.NikonDataReader.get_roi">
<code class="sig-name descname">get_roi</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/cil/io/NikonDataReader.html#NikonDataReader.get_roi"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cil.io.NikonDataReader.get_roi" title="Permalink to this definition">¶</a></dt>
<dd><p>returns the roi</p>
</dd></dl>

<dl class="method">
<dt id="cil.io.NikonDataReader.load_projections">
<code class="sig-name descname">load_projections</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/cil/io/NikonDataReader.html#NikonDataReader.load_projections"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cil.io.NikonDataReader.load_projections" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of read for backward compatibility</p>
</dd></dl>

<dl class="method">
<dt id="cil.io.NikonDataReader.read">
<code class="sig-name descname">read</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/cil/io/NikonDataReader.html#NikonDataReader.read"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cil.io.NikonDataReader.read" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads projections and return AcquisitionData container</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="zeiss">
<h2>ZEISS<a class="headerlink" href="#zeiss" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="cil.io.TXRMDataReader">
<em class="property">class </em><code class="sig-prename descclassname">cil.io.</code><code class="sig-name descname">TXRMDataReader</code><span class="sig-paren">(</span><em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cil/io/TXRMDataReader.html#TXRMDataReader"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cil.io.TXRMDataReader" title="Permalink to this definition">¶</a></dt>
<dd><dl class="method">
<dt id="cil.io.TXRMDataReader.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cil/io/TXRMDataReader.html#TXRMDataReader.__init__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cil.io.TXRMDataReader.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Constructor</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>file_name</strong> (<em>os.path</em><em> or </em><em>string</em><em>, </em><em>default None</em>) – file name to read</p></li>
<li><p><strong>angle_unit</strong> (<em>string</em><em>, </em><em>default degree</em>) – describe what the unit is, angle or degree</p></li>
<li><p><strong>logging_level</strong> (int, default 40 i.e. ERROR, possible values are 0 10 20 30 40 50 <a class="reference external" href="https://docs.python.org/3/library/logging.html#levels">https://docs.python.org/3/library/logging.html#levels</a>) – Logging messages which are less severe than level will be ignored.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="cil.io.TXRMDataReader.__weakref__">
<code class="sig-name descname">__weakref__</code><a class="headerlink" href="#cil.io.TXRMDataReader.__weakref__" title="Permalink to this definition">¶</a></dt>
<dd><p>list of weak references to the object (if defined)</p>
</dd></dl>

<dl class="method">
<dt id="cil.io.TXRMDataReader.get_geometry">
<code class="sig-name descname">get_geometry</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/cil/io/TXRMDataReader.html#TXRMDataReader.get_geometry"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cil.io.TXRMDataReader.get_geometry" title="Permalink to this definition">¶</a></dt>
<dd><p>Return AcquisitionGeometry object</p>
</dd></dl>

<dl class="method">
<dt id="cil.io.TXRMDataReader.get_metadata">
<code class="sig-name descname">get_metadata</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/cil/io/TXRMDataReader.html#TXRMDataReader.get_metadata"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cil.io.TXRMDataReader.get_metadata" title="Permalink to this definition">¶</a></dt>
<dd><p>return the metadata of the loaded file</p>
</dd></dl>

<dl class="method">
<dt id="cil.io.TXRMDataReader.load_projections">
<code class="sig-name descname">load_projections</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/cil/io/TXRMDataReader.html#TXRMDataReader.load_projections"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cil.io.TXRMDataReader.load_projections" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of read for backward compatibility</p>
</dd></dl>

<dl class="method">
<dt id="cil.io.TXRMDataReader.read">
<code class="sig-name descname">read</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/cil/io/TXRMDataReader.html#TXRMDataReader.read"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cil.io.TXRMDataReader.read" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads projections and return AcquisitionData container</p>
</dd></dl>

<dl class="method">
<dt id="cil.io.TXRMDataReader.set_up">
<code class="sig-name descname">set_up</code><span class="sig-paren">(</span><em class="sig-param">file_name=None</em>, <em class="sig-param">angle_unit='degree'</em>, <em class="sig-param">logging_level=40</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cil/io/TXRMDataReader.html#TXRMDataReader.set_up"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cil.io.TXRMDataReader.set_up" title="Permalink to this definition">¶</a></dt>
<dd><p>Set up the reader</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>file_name</strong> (<em>os.path</em><em> or </em><em>string</em><em>, </em><em>default None</em>) – file name to read</p></li>
<li><p><strong>angle_unit</strong> (<em>string</em><em>, </em><em>default degree</em>) – describe what the unit is, angle or degree</p></li>
<li><p><strong>logging_level</strong> (int, default 40 i.e. ERROR, possible values are 0 10 20 30 40 50 <a class="reference external" href="https://docs.python.org/3/library/logging.html#levels">https://docs.python.org/3/library/logging.html#levels</a>) – Logging messages which are less severe than level will be ignored.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="tiff-reader-writer">
<h2>TIFF Reader/Writer<a class="headerlink" href="#tiff-reader-writer" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="cil.io.TIFFStackReader">
<em class="property">class </em><code class="sig-prename descclassname">cil.io.</code><code class="sig-name descname">TIFFStackReader</code><span class="sig-paren">(</span><em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cil/io/TIFF.html#TIFFStackReader"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cil.io.TIFFStackReader" title="Permalink to this definition">¶</a></dt>
<dd><dl class="method">
<dt id="cil.io.TIFFStackReader.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cil/io/TIFF.html#TIFFStackReader.__init__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cil.io.TIFFStackReader.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Basic TIFF redaer which loops through all riff files in a specific 
folder and load them in alphabetic order</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>file_name</strong> (<em>str</em><em>, </em><em>abspath to folder</em><em>, </em><em>list</em>) – path to folder with tiff files, list of paths of tiffs, or single tiff file</p></li>
<li><p><strong>roi</strong> (<em>dictionary</em><em>, </em><em>default None</em>) – <p>dictionary with roi to load 
{‘axis_0’: (start, end, step),</p>
<blockquote>
<div><p>’axis_1’: (start, end, step), 
‘axis_2’: (start, end, step)}</p>
</div></blockquote>
<p>Files are stacked along axis_0. axis_1 and axis_2 correspond
to row and column dimensions, respectively.
Files are stacked in alphabetic order. 
To skip files or to change number of files to load, 
adjust axis_0. For instance, ‘axis_0’: (100, 300)
will skip first 100 files and will load 200 files.
‘axis_0’: -1 is a shortcut to load all elements along axis.
Start and end can be specified as None which is equivalent 
to start = 0 and end = load everything to the end, respectively.
Start and end also can be negative.
Notes: roi is specified for axes before transpose.</p>
</p></li>
<li><p><strong>transpose</strong> (<em>bool</em><em>, </em><em>default False</em>) – transpose loaded images</p></li>
<li><p><strong>mode</strong> (<em>str</em><em>, </em><em>default 'bin'</em>) – str, ‘bin’ (default) or ‘slice’. In bin mode, ‘step’ number
of pixels is binned together, values of resulting binned
pixels are calculated as average. 
In ‘slice’ mode ‘step’ defines standard numpy slicing.
Note: in general output array size in bin mode != output array size
in slice mode</p></li>
<li><p><strong>dtype</strong> (<em>numpy type</em><em>, </em><em>string</em><em>, </em><em>default np.float32</em>) – Requested type of the read image. If set to None it defaults to
the type of the saved file.</p></li>
</ul>
</dd>
</dl>
<blockquote>
<div><p>numpy array with stack of images</p>
</div></blockquote>
</dd></dl>

<dl class="attribute">
<dt id="cil.io.TIFFStackReader.__weakref__">
<code class="sig-name descname">__weakref__</code><a class="headerlink" href="#cil.io.TIFFStackReader.__weakref__" title="Permalink to this definition">¶</a></dt>
<dd><p>list of weak references to the object (if defined)</p>
</dd></dl>

<dl class="method">
<dt id="cil.io.TIFFStackReader.read">
<code class="sig-name descname">read</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/cil/io/TIFF.html#TIFFStackReader.read"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cil.io.TIFFStackReader.read" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads images and return numpy array</p>
</dd></dl>

<dl class="method">
<dt id="cil.io.TIFFStackReader.read_as_AcquisitionData">
<code class="sig-name descname">read_as_AcquisitionData</code><span class="sig-paren">(</span><em class="sig-param">acquisition_geometry</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cil/io/TIFF.html#TIFFStackReader.read_as_AcquisitionData"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cil.io.TIFFStackReader.read_as_AcquisitionData" title="Permalink to this definition">¶</a></dt>
<dd><p>reads the TIFF stack as an AcquisitionData with the provided geometry</p>
<p>Notice that the data will be reshaped to what requested in the geometry but there is 
no warranty that the data will be read in the right order! 
In facts you can reshape a (2,3,4) array as (3,4,2), however we do not check if the reshape
leads to sensible data.</p>
</dd></dl>

<dl class="method">
<dt id="cil.io.TIFFStackReader.read_as_ImageData">
<code class="sig-name descname">read_as_ImageData</code><span class="sig-paren">(</span><em class="sig-param">image_geometry</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cil/io/TIFF.html#TIFFStackReader.read_as_ImageData"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cil.io.TIFFStackReader.read_as_ImageData" title="Permalink to this definition">¶</a></dt>
<dd><p>reads the TIFF stack as an ImageData with the provided geometry</p>
<p>Notice that the data will be reshaped to what requested in the geometry but there is 
no warranty that the data will be read in the right order! 
In facts you can reshape a (2,3,4) array as (3,4,2), however we do not check if the reshape
leads to sensible data.</p>
</dd></dl>

<dl class="method">
<dt id="cil.io.TIFFStackReader.set_up">
<code class="sig-name descname">set_up</code><span class="sig-paren">(</span><em class="sig-param">file_name=None</em>, <em class="sig-param">roi={'axis_0': -1</em>, <em class="sig-param">'axis_1': -1</em>, <em class="sig-param">'axis_2': -1}</em>, <em class="sig-param">transpose=False</em>, <em class="sig-param">mode='bin'</em>, <em class="sig-param">dtype=&lt;class 'numpy.float32'&gt;</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cil/io/TIFF.html#TIFFStackReader.set_up"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cil.io.TIFFStackReader.set_up" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>file_name</strong> (<em>str</em><em>, </em><em>abspath to folder</em><em>, </em><em>list</em>) – path to folder with tiff files, list of paths of tiffs, or single tiff file</p></li>
<li><p><strong>roi</strong> (<em>dictionary</em><em>, </em><em>default None</em>) – <p>dictionary with roi to load 
{‘axis_0’: (start, end, step),</p>
<blockquote>
<div><p>’axis_1’: (start, end, step), 
‘axis_2’: (start, end, step)}</p>
</div></blockquote>
<p>Files are stacked along axis_0. axis_1 and axis_2 correspond
to row and column dimensions, respectively.
Files are stacked in alphabetic order. 
To skip files or to change number of files to load, 
adjust axis_0. For instance, ‘axis_0’: (100, 300)
will skip first 100 files and will load 200 files.
‘axis_0’: -1 is a shortcut to load all elements along axis.
Start and end can be specified as None which is equivalent 
to start = 0 and end = load everything to the end, respectively.
Start and end also can be negative.
Notes: roi is specified for axes before transpose.</p>
</p></li>
<li><p><strong>transpose</strong> (<em>bool</em><em>, </em><em>default False</em>) – transpose loaded images</p></li>
<li><p><strong>mode</strong> (<em>str</em><em>, </em><em>default 'bin'</em>) – str, ‘bin’ (default) or ‘slice’. In bin mode, ‘step’ number
of pixels is binned together, values of resulting binned
pixels are calculated as average. 
In ‘slice’ mode ‘step’ defines standard numpy slicing.
Note: in general output array size in bin mode != output array size
in slice mode</p></li>
<li><p><strong>dtype</strong> (<em>numpy type</em><em>, </em><em>string</em><em>, </em><em>default np.float32</em>) – Requested type of the read image. If set to None it defaults to
the type of the saved file.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="cil.io.TIFFWriter">
<em class="property">class </em><code class="sig-prename descclassname">cil.io.</code><code class="sig-name descname">TIFFWriter</code><span class="sig-paren">(</span><em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cil/io/TIFF.html#TIFFWriter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cil.io.TIFFWriter" title="Permalink to this definition">¶</a></dt>
<dd><p>Write a DataSet to disk as a TIFF file or stack</p>
<dl class="method">
<dt id="cil.io.TIFFWriter.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cil/io/TIFF.html#TIFFWriter.__init__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cil.io.TIFFWriter.__init__" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<a class="reference internal" href="framework.html#cil.framework.DataContainer" title="cil.framework.DataContainer"><em>DataContainer</em></a><em>, </em><a class="reference internal" href="framework.html#cil.framework.AcquisitionData" title="cil.framework.AcquisitionData"><em>AcquisitionData</em></a><em> or </em><a class="reference internal" href="framework.html#cil.framework.ImageData" title="cil.framework.ImageData"><em>ImageData</em></a>) – the data to save to TIFF file(s)</p></li>
<li><p><strong>file_name</strong> (<em>string</em>) – string defining the file name prefix</p></li>
<li><p><strong>counter_offset</strong> (<em>int</em><em>, </em><em>default 0</em>) – int indicating at which number the index starts. 
For instance, if you have to save 10 files the index would by default go from 0 to 9.
By counter_offset you can offset the index: from <cite>counter_offset</cite> to <cite>9+counter_offset</cite></p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="cil.io.TIFFWriter.__weakref__">
<code class="sig-name descname">__weakref__</code><a class="headerlink" href="#cil.io.TIFFWriter.__weakref__" title="Permalink to this definition">¶</a></dt>
<dd><p>list of weak references to the object (if defined)</p>
</dd></dl>

</dd></dl>

<p><a class="reference internal" href="index.html#mastertoc"><span class="std std-ref">Return Home</span></a></p>
</div>
</div>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="framework.html" class="btn btn-neutral float-left" title="Framework" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="optimisation.html" class="btn btn-neutral float-right" title="Optimisation framework" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2017-2021 UKRI-STFC, University of Manchester.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>